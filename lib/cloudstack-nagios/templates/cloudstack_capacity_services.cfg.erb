
###############################################################################
#
# Cloudstack capcity services configuration file
#
# Created by: cloudstack-nagios
# Date:       <%= date %>
# Version:    Nagios 3.x config file
#
# --- DO NOT EDIT THIS FILE BY HAND ---
# cloudstack-nagios will overwite all manual settings during the next update
#
###############################################################################

<% capacity_types.each do |cap_type| -%>
define command {
        command_name                   cs-nagios_check-capacity_<%= cap_type[:method_name] -%>
        command_line                   <%= bin_path -%>/cs-nagios check capacity <%= cap_type[:method_name] -w $ARG1$ -c $ARG2$ --config <%= config_file %>
        register                       1
}

<% end -%>

<% capacity_types.each do |cap_type| -%>
define service {
        hostgroup_name                  Cloudstack-SystemVM
        service_description             <%= cap_type[:name] -%>
        display_name                    <%= cap_type[:method_name] -%>
        use                             Generic-Service,service-pnp
        check_command                   cs-nagios_check-capacity_<%= cap_type[:method_name] -%>!80!90
        register                        1
}

<% end -%>
###############################################################################
#
# Service configuration file
#
# END OF FILE
#
###############################################################################