
###############################################################################
#
# Cloudstack storage_pool services configuration file
#
# Created by: cloudstack-nagios
# Date:       <%= date %>
# Version:    Nagios 3.x config file
#
# --- DO NOT EDIT THIS FILE BY HAND ---
# cloudstack-nagios will overwite all manual settings during the next update
#
###############################################################################

<% storage_pools.each do |storage_pool|
define command {
  command_name  cs-nagios_check-storage_pool
  command_line  <%= bin_path -%>/cs-nagios check storage_pool --name <%= storage_pool['name'] -%> --zone <%= storage_pool['zonename'] -%> -w $ARG1$ -c $ARG2$ --config <%= config_file %>
  register      1
}

<% end -%>

define service {
  hostgroup_name        Cloudstack-SystemVM
  service_description   Cloudstack Storage Pool
  display_name          Cloudstack Storage Pool
  use                   Generic-Service,service-pnp
  check_command         cs-nagios_check-storage_pool!80!90
  register              1
}

###############################################################################
#
# Service configuration file
#
# END OF FILE
#
###############################################################################